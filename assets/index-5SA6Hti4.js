(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function u(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=u(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",function(){let d=document.querySelector("#location"),n=document.querySelector("#search-icon"),u=document.querySelector("#degrees"),a=document.querySelector("#weather-update"),e=document.querySelector("#feels-like"),t=document.querySelector("#humidity"),s=document.querySelector("#wind-speed"),p=document.querySelector("#weather-video"),f=document.querySelector("#video-source");const y="cf49b4b65e833fffc0a36cb556d20ee2";async function h(o){const w=`https://api.openweathermap.org/data/2.5/weather?q=${o}&appid=${y}&units=metric`;try{const l=await fetch(w),m=await l.text();if(console.log("Raw API Response:",m),!l.ok){console.error("API Request Failed:",l.status),alert("City not found or API error! Check the console.");return}const i=JSON.parse(m);u.innerText=`${i.main.temp}°C`,a.innerText=i.weather[0].description,e.innerText=`${i.main.feels_like}°C`,t.innerText=`${i.main.humidity}%`,s.innerText=`${i.wind.speed} m/s`;const c=i.weather[0].main.toLowerCase();let r="./default.mp4";c.includes("rain")?r="./rain.mp4":c.includes("cloud")?r="./cloudy.mp4":c.includes("clear")?r="./clearSky.mp4":c.includes("haze")?r="./Hazy.mp4":c.includes("snow")?r="./snow.mp4":c.includes("sunny")&&(r="./sunny.mp4"),f.src!==r&&(f.src=r,p.load())}catch(l){console.error("Error fetching weather:",l),alert("City not found! Please try again.")}}n.addEventListener("click",function(){const o=d.value.trim();o?h(o):alert("Please enter a city name!")}),d.addEventListener("keypress",function(o){o.key==="Enter"&&n.click()})});
